<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>{{ user_name }} - 查看成绩</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <!-- Bootstrap CSS-->
  <link rel="stylesheet" href="../static/vendor/bootstrap/css/bootstrap.min.css">
  <!-- Font Awesome CSS-->
  <link rel="stylesheet" href="../static/vendor/font-awesome/css/font-awesome.min.css">
  <!-- Fontastic Custom icon font-->
  <link rel="stylesheet" href="../static/css/fontastic.css">
  <!-- Google fonts - Roboto -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700">
  <!-- jQuery Circle-->
  <link rel="stylesheet" href="../static/css/grasp_mobile_progress_circle-1.0.0.min.css">
  <!-- Custom Scrollbar-->
  <link rel="stylesheet" href="../static/vendor/malihu-custom-scrollbar-plugin/jquery.mCustomScrollbar.css">
  <!-- theme stylesheet-->
  <link rel="stylesheet" href="../static/css/style.default.css" id="theme-stylesheet">
  <!-- Custom stylesheet - for your changes-->
  <link rel="stylesheet" href="../static/css/custom.css">
  <!-- Favicon-->
  <link rel="shortcut icon" href="../static/img/favicon.ico">
  <!-- Tweaks for older IEs-->
  <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script><![endif]-->
  <script src="../static/xinziyuan/js/jquery-3.3.1.min.js"></script>
  <script src="../static/xinziyuan/js/vue.min.js"></script>
  <script src="../static/xinziyuan/js/vue-resource.min.js"></script>
  <script src="../static/xinziyuan/js/common.js"></script>
{#    <script src="../static/xinziyuan/backend.js"></script>#}
  <link rel="stylesheet" href="../static/xinziyuan/vendors/iconfonts/mdi/css/materialdesignicons.min.css">
  <link rel="stylesheet" href="../static/xinziyuan/vendors/css/vendor.bundle.base.css">
  <link rel="stylesheet" href="../static/xinziyuan/css/style.css">
  <link rel="stylesheet" href="../static/xinziyuan/css/overdiv.css">
  <link rel="shortcut icon" href="../static/xinziyuan/images/favicon.png" />

</head>

<body>
  <!-- Side Navbar -->
  <nav class="side-navbar">
    <div class="side-navbar-wrapper">
      <!-- Sidebar Header    -->
      <div class="sidenav-header d-flex align-items-center justify-content-center">
        <!-- User Info-->
        <div class="sidenav-header-inner text-center">
          <img src="../static/img/cat.jpg" alt="person" class="img-fluid rounded-circle">
          <h2 class="h5">{{ user_id }}</h2>
          <h2 class="h5">{{ user_name }}</h2>
          <span>{{ user_type }}</span>
        </div>
        <!-- Small Brand information, appears on minimized sidebar-->
        <div class="sidenav-header-logo"><a href="index.html" class="brand-small text-center">
            <strong>{{ user_name }}</strong></a></div>
      </div>
      <!-- Sidebar Navigation Menus-->
      <div class="main-menu">
        <h5 class="sidenav-heading">导航</h5>
        <ul id="side-main-menu" class="side-menu list-unstyled">
          <li><a href="{{ url_for('teacherIndex') }}"> <i class="icon-home"></i>教师主页 </a></li>
          <li><a href="{{ url_for('teacher_personal_info') }}"> <i class="icon-home"></i>个人资料</a></li>
          <li><a href="{{ url_for('teacherExam') }}"> <i class="icon-form"></i>发布考试 </a></li>
          <li><a href="{{ url_for('teacher_modify')}}"> <i class="fa fa-bar-chart"></i>批改试卷 </a></li>
          <li><a href="{{ url_for('teacher_result') }}"> <i class="icon-grid"></i>查看历史成绩 </a></li>
          <li><a href="{{ url_for('teacherIndex') }}"> <i class="icon-interface-windows"></i>帮助 </a></li>
          <li> <a href="#"> <i class="icon-mail"></i>更多...
              <div class="badge badge-warning">6 New</div></a></li>
        </ul>
      </div>
    </div>
  </nav>

  <style>
    .ab table {
      border-collapse: collapse;
      font-family: Futura, Arial, sans-serif;
    }

    .ab caption {
      font-size: larger;
      margin: 1em auto;
    }

    .ab th,
    td {
      padding: .65em;
    }

    .ab th {
      background: #555 none repeat scroll 0 0;
      /* border: 1px solid #777; */
      color: rgb(7, 7, 7);
    }

    .ab td {
      /* border: 1px solid #777; */
    }

    .ab tbody tr:nth-child(odd) {
      background: #ccc;
    }

    .ab th:first-child {
      border-radius: 9px 0 0 0;

    }

    .ab th:last-child {
      border-radius: 0 9px 0 0;
    }

    .ab tr:last-child td:first-child {
      border-radius: 0 0 0 9px;
    }

    .ab tr:last-child td:last-child {
      border-radius: 0 0 9px 0;
    }

    .ab tbody tr:hover {
      background: linear-gradient(#fff, #aaa);
      font-size: 17px;
    }
  </style>

  <!-- 主体 -->
  <div class="page">
    <!-- navbar-->
    <header class="header">
      <nav class="navbar">
        <div class="container-fluid">
          <div class="navbar-holder d-flex align-items-center justify-content-between">
            <div class="navbar-header"><a id="toggle-btn" href="#" class="menu-btn"><i class="icon-bars"> </i></a>
              <a  href="index.html" class="navbar-brand">
                <div class="brand-text d-none d-md-inline-block"><span></span><strong class="text-primary">考试系统 - 教师端</strong></div>
              </a>
            </div>
            <ul class="nav-menu list-unstyled d-flex flex-md-row align-items-md-center">
              <!-- Notifications dropdown-->
              <li class="nav-item dropdown"> <a id="notifications" rel="nofollow" data-target="#" href="#"
                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="nav-link"><i
                    class="fa fa-bell"></i><span class="badge badge-warning">12</span></a>
                <ul aria-labelledby="notifications" class="dropdown-menu">
                  <li><a rel="nofollow" href="#" class="dropdown-item">
                      <div class="notification d-flex justify-content-between">
                        <div class="notification-content"><i class="fa fa-envelope"></i>You have 6 new messages </div>
                        <div class="notification-time"><small>4 minutes ago</small></div>
                      </div>
                    </a></li>
                  <li><a rel="nofollow" href="#" class="dropdown-item">
                      <div class="notification d-flex justify-content-between">
                        <div class="notification-content"><i class="fa fa-twitter"></i>You have 2 followers</div>
                        <div class="notification-time"><small>4 minutes ago</small></div>
                      </div>
                    </a></li>
                  <li><a rel="nofollow" href="#" class="dropdown-item">
                      <div class="notification d-flex justify-content-between">
                        <div class="notification-content"><i class="fa fa-upload"></i>Server Rebooted</div>
                        <div class="notification-time"><small>4 minutes ago</small></div>
                      </div>
                    </a></li>
                  <li><a rel="nofollow" href="#" class="dropdown-item">
                      <div class="notification d-flex justify-content-between">
                        <div class="notification-content"><i class="fa fa-twitter"></i>You have 2 followers</div>
                        <div class="notification-time"><small>10 minutes ago</small></div>
                      </div>
                    </a></li>
                  <li><a rel="nofollow" href="#" class="dropdown-item all-notifications text-center"> <strong> <i
                          class="fa fa-bell"></i>view all notifications </strong></a></li>
                </ul>
              </li>
              <!-- Messages dropdown-->
              <li class="nav-item dropdown"> <a id="messages" rel="nofollow" data-target="#" href="#"
                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="nav-link"><i
                    class="fa fa-envelope"></i><span class="badge badge-info">10</span></a>
                <ul aria-labelledby="notifications" class="dropdown-menu">
                  <li><a rel="nofollow" href="#" class="dropdown-item d-flex">
                      <div class="msg-profile"> <img src="../static/img/avatar-1.jpg" alt="..."
                          class="img-fluid rounded-circle"></div>
                      <div class="msg-body">
                        <h3 class="h5">Jason Doe</h3><span>sent you a direct message</span><small>3 days ago at 7:58 pm
                          - 10.06.2014</small>
                      </div>
                    </a></li>
                  <li><a rel="nofollow" href="#" class="dropdown-item d-flex">
                      <div class="msg-profile"> <img src="../static/img/avatar-2.jpg" alt="..."
                          class="img-fluid rounded-circle"></div>
                      <div class="msg-body">
                        <h3 class="h5">Frank Williams</h3><span>sent you a direct message</span><small>3 days ago at
                          7:58 pm - 10.06.2014</small>
                      </div>
                    </a></li>
                  <li><a rel="nofollow" href="#" class="dropdown-item d-flex">
                      <div class="msg-profile"> <img src="../static/img/avatar-3.jpg" alt="..."
                          class="img-fluid rounded-circle"></div>
                      <div class="msg-body">
                        <h3 class="h5">Ashley Wood</h3><span>sent you a direct message</span><small>3 days ago at 7:58
                          pm - 10.06.2014</small>
                      </div>
                    </a></li>
                  <li><a rel="nofollow" href="#" class="dropdown-item all-notifications text-center"> <strong> <i
                          class="fa fa-envelope"></i>Read all messages </strong></a></li>
                </ul>
              </li>
              <!-- Languages dropdown    -->
              <li class="nav-item dropdown"><a id="languages" rel="nofollow" data-target="#" href="#"
                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                  class="nav-link language dropdown-toggle"><img src="../static/img/flags/16/CN.png" alt="Chinese"><span
                    class="d-none d-sm-inline-block">中文</span></a>
                <ul aria-labelledby="languages" class="dropdown-menu">
                </ul>
              </li>
              <!-- Log out-->
              <li class="nav-item">
                  <a href="{{ url_for('logout') }}" class="nav-link logout">
                  <span class="d-none d-sm-inline-block">注销</span>
                      <i class="fa fa-sign-out"></i>
                  </a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>
    <!-- 页面显示部分 -->
    <!-- updates-box为下拉框的id-->

    <div id="new-updates" class="card updates recent-updated">
    {% for exam in exam_list %}
      <div id="updates-header" class="card-header d-flex justify-content-between align-items-center">
        <h2 class="h5 display">
          <a data-toggle="collapse" data-parent="#new-updates" href="#updates-box{{ exam.exam_id }}" aria-expanded="false" aria-controls="updates-box">
            {{ exam.exam_id }} - {{ exam.exam_title }} - {{ exam.exam_date }}
          </a>
        </h2>
        <a data-toggle="collapse"  data-parent="#new-updates" href="#updates-box1{{ exam.exam_id }}" aria-expanded="false" aria-controls="updates-box">
          <i class="fa fa-angle-down"></i>
        </a>
      </div>

      <div id="updates-box{{ exam.exam_id }}" role="tabpanel" class="collapse">
        <ul class="news list-styled">
          <!-- Item-->
          <li class="d-flex justify-content-between">
            <!--a-->
{#            <div class="card">#}
              <div style="-ms-flex:1 1 auto;flex:1 1 auto;padding:0rem">
                <h2 class="card-title">提交列表</h2>
                <p class="card-description">本试卷所有已提交答案的学生列表。</p>
                <table class="table">
                  <thead align="center">
                    <th>试卷编号</th>
                    <th>学生学号</th>
                    <th>学生姓名</th>
                    <th>提交时间</th>
                    <th>客观题得分</th>
                    <th>主观题得分</th>
                    <th>当前总分</th>
                    <th>批改试卷</th>
                  </thead>
                  <tbody align="center">
                    {% for student_submit_exam in exam.student_submit_exam_list %}
                    <tr>
                      <td>{{ exam.exam_id }}</td>
                      <td>{{ student_submit_exam.student_id }}</td>
                      <td>{{ student_submit_exam.student_name }}</td>
                      <td>{{ student_submit_exam.submit_time }}</td>
                      <td><label class="badge bg-success">{{ student_submit_exam.grade }}</label></td>
                      {% if student_submit_exam.subjective_grade == -1 %}
                      <td><label class="badge bg-warning">未判题</label></td>
                      <td>{{ student_submit_exam.grade }}</td>
                      {% else %}
                      <td><label class="badge bg-success">{{ student_submit_exam.subjective_grade }}</label></td>
                      <td>{{ student_submit_exam.grade + student_submit_exam.subjective_grade }}</td>
                      {% endif %}
                      <td>
                        <button type="button" class="btn btn-gradient-light btn-sm">
                          <i class="mdi mdi-comment-check-outline"></i>
                          <a href="{{ url_for('teacher_check_paper', paper_id=exam.exam_id, student_name=student_submit_exam.student_name, student_id=student_submit_exam.student_id) }}">
                            批改试卷
                          </a>
                        </button>
                      </td>
                    </tr>
                    {% endfor %}
                  </tbody>
                </table>
              </div>
{#            </div>#}
            <!--a-->
          </li>
        </ul>
      </div>
    {% endfor %}
    </div>

    <!--test-->
    <!-- 页面显示部分 -->
    <footer class="main-footer">
      <div class="container-fluid">
        <div class="row">
          <div class="col-sm-6">
            <p>Exam-Online-System &copy; 2019</p>
          </div>
          <div class="col-sm-6 text-right">
            HomePage <a href="http://aao.nuaa.edu.cn/" target="_blank" title="联系我们">联系我们</a> - Coding from <a
              href="https://github.com/NUAA-SoftwareEngineeringCourse/exam-online" title="GitHub"
              target="_blank">GitHub</a>

          </div>
        </div>
      </div>
    </footer>
  </div>
  <!-- JavaScript files-->
  <script src="../static/vendor/jquery/jquery.min.js"></script>
  <script src="../static/vendor/popper.js/umd/popper.min.js"> </script>
  <script src="../static/vendor/bootstrap/js/bootstrap.min.js"></script>
  <script src="../static/js/grasp_mobile_progress_circle-1.0.0.min.js"></script>
  <script src="../static/vendor/jquery.cookie/jquery.cookie.js"> </script>
  <script src="../static/vendor/chart.js/Chart.min.js"></script>
  <script src="../static/vendor/jquery-validation/jquery.validate.min.js"></script>
  <script src="../static/vendor/malihu-custom-scrollbar-plugin/jquery.mCustomScrollbar.concat.min.js"></script>
  <script src="../static/js/charts-home.js"></script>
  <script type="text/javascript" src="../static/js/jquery.js"></script>
  <script type="text/javascript" src="../static/js/jsapi.js"></script>
  <script type="text/javascript" src="../static/js/corechart.js"></script>
  <script type="text/javascript" src="../static/js/jquery.gvChart-1.0.1.min.js"></script>
  <script type="text/javascript" src="../static/js/jquery.ba-resize.min.js"></script>
  <!-- Main File-->
  <script src="../static/js/front.js"></script>
</body>

</html>